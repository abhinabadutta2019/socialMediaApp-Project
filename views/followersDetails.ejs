<%- include('partials/header') %>
<!--  -->

<div class="row justify-content-center">
  <div class="col-lg-4 width:100%">
    <h2 class="text-center">followers details</h2>
    <!--  -->
    <% if (followersList.length>0) { %> <% for( let i = 0; i <
    followersList.length; i++ ) { %>

    <!----------user  box starts-->
    <!--  -->
    <div class="bg-white shadow rounded mt-3 pb-3">
      <li style="list-style-type: none">
        <!--  -->
        <% if (followersList[i].photoPath) { %>
        <div class="d-flex">
          <img
            src="<%= followersList[i].photoPath %>"
            alt="image"
            class="img-fluid"
          />
        </div>
        <!--  -->
        <% } %>
        <!-- text details starts -->
        <div class="d-flex flex-wrap">
          <!--  -->
          <div class="flex-fill">
            <span class="m-2 fw-bold" style="font-size: 25px"
              ><%= followersList[i].username %></span
            >
          </div>
          <!--  -->
          <div class="flex-fill">
            <p class="pt-2">
              <strong>followers:</strong> <%= followersList[i].followers.length
              %>
            </p>
          </div>
          <!--  -->
          <div class="flex-fill">
            <p class="pt-2">
              <strong>followings:</strong> <%=
              followersList[i].followings.length %>
            </p>
          </div>
        </div>
        <!-- text details ends -->
        <!-- button starts -->
        <div class="d-flex">
          <div class="flex-fill me-1">
            <button
              class="btn btn-secondary w-100"
              onclick="getUser('<%= followersList[i]._id %>')"
            >
              Details
            </button>
          </div>
        </div>
        <!--  -->
      </li>
    </div>
    <!--  -->
    <% } %>
    <!--  -->
    <% } else{%>
    <p class="text-center">No followings found</p>
    <%}%>
  </div>
</div>

<script>
  //
  //Details button = get user detail from all user page
  //
  async function getUser(userId) {
    try {
      //
      window.location.href = `${window.location.origin}/user/getUser/${userId}`;
    } catch (err) {
      console.log(err);
    }
  }
</script>

<%- include('partials/footer') %>
