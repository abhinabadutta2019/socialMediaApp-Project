<nav>
  <ul>
    <h3>
      <li><a href="/user/personalDetails">personalDetails</a></li>
      <li><a href="/user/register">Register</a></li>
      <li><a href="/user/login">LogIn</a></li>
      <li><a href="/user/allUsers">All-Users</a></li>

      <li><a href="/post/create">Create-Post</a></li>
      <!--  -->
      <li><a href="/post/timeline/all">Post-Timeline</a></li>

      <!--  -->
    </h3>
    <!-- logout Button -->
    <button onclick="logoutUser()">Logout</button>
    <!-- button to see users own posts -->
    <button id="seeYourPosts" onclick="seeYourPostButton()">
      seeYourPosts
    </button>
  </ul>
  <!-- message-- each page er script theke, eta te value put kora hobe -->
  <h3>
    <ul style="list-style-type: none">
      <div id="message"></div>
    </ul>
  </h3>
</nav>

<script>
  //
  message = document.getElementById("message");
  //
  async function seeYourPostButton() {
    try {
      // button to see users own posts
      //just using for redirection

      window.location.href = `${window.location.origin}/post/ownposts`;
    } catch (err) {
      console.log(err);
    }
  }
  //
  async function logoutUser() {
    try {
      const responseLogout = await fetch(
        `${window.location.origin}/user/logout`,
        {
          method: "GET",
          headers: {
            "Content-Type": "application/json",
          },

          //
        }
      );
      //
      const logoutResult = await responseLogout.json();
      //
      console.log(logoutResult);
      if (logoutResult.message == "logout success") {
        //
        message.textContent = logoutResult.message;
        //
        setTimeout(function () {
          //
          window.location.href = `${window.location.origin}/user/login`;
        }, 1000);
      }
    } catch (err) {
      console.log(err);
      res.json(err);
    }
  }
</script>
